# Create an OSEv3 group that contains the masters and nodes groups
[OSv3:children]
masters
nodes

# Set variables common for all OSEv3 hosts
[OSv3:vars]
# SSH user, this user should allow ssh based auth without requiring a password
ansible_ssh_user=$SSH_USER

ansible_sudo=true

deployment_type=openshift-enterprise

openshift_master_identity_providers=[{'name': 'htpasswd_auth', 'login': 'true', 'challenge': 'true', 'kind': 'HTPasswdPasswordIdentityProvider', 'filename': '/etc/openshift/openshift-passwd'}]
osm_default_subdomain=cloudapps.$DOMAINNAME

osm_cluster_network_cidr=$CONTAINER_NETWORK_CIDR
osm_host_subnet_length=$CONTAINER_SUBNET_LENGTH
openshift_master_portal_net=$CONTAINER_NETWORK_CIDR

openshift_use_openshift_sdn=false
openshift_use_flannel=true

osm_use_cockpit=false

# host group for masters
[masters]
$MASTER_HOSTNAME.$DOMAINNAME openshift_hostname=$MASTER_HOSTNAME.$DOMAINNAME openshit_public_hostname=$MASTER_HOSTNAME.$DOMAINNAME openshift_master_public_console_url=https://$MASTER_HOSTNAME.$DOMAINNAME:8443/console openshift_master_public_api_url=https://$MASTER_HOSTNAME.$DOMAINNAME:8443

[masters:vars]
flannel_interface=eth1

# host group for nodes
[nodes]
$MASTER_HOSTNAME.$DOMAINNAME openshift_hostname=$MASTER_HOSTNAME.$DOMAINNAME openshit_public_hostname=$MASTER_HOSTNAME.$DOMAINNAME openshift_node_labels="{'region': 'infra', 'zone': 'default'}"
$NODE_HOSTNAMES

[nodes:vars]
flannel_interface=eth1
